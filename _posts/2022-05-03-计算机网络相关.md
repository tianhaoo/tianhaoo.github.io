---
layout:     post
title:      计算机网络相关
subtitle:   ""
date:       2022-05-03
author:     tianhaoo
header-img: img/post-bg/65.jpg
catalog: true
tags:
  - C/C++
---

1. 交换机的**存储转发表**
   * 一张记录着局域网主机端口MAC地址与交换机端口对应的表，交换机就是根据这张表负责将数据帧传输到指定的主机端口上的
   * 交换机在接收到数据帧以后，首先会记录数据帧中的源MAC地址和对应的到达端口到MAC表中，这一过程通常称为“自学习”
2. ARP协议生成的**ARP缓存表**
   * 如果一台机器A找机器B，封装成帧时, 要封装对方的MAC，开始时A不知道B的MAC地址，只知道IP，因此它就发送一个ARP包，源IP是自己的，目的IP是B的，源MAC是自己的，目的MAC是广播的。然后这个请求包在内网中被广播，当其他机器接收到这个包时，用目的IP和自己的IP进行比较，不是的话就丢弃。
   * B接到时，发现IP与自己的一样，就应答这个包的请求，把自己的MAC发送给A。
   * 如果B是其他子网的机器，那么路由器会判断出B是其他子网，然后路由器把自己的MAC返回给A，A以后再给B发包时，目的MAC封装的是路由器的
1. 路由器维护的**路由表**

2. ARP协议流程
   * 如果一台机器A找机器B，封装成帧时, 要封装对方的MAC，开始时A不知道B的MAC地址，只知道IP，因此它就发送一个ARP包，源IP是自己的，目的IP是B的，源MAC是自己的，目的MAC是广播的。然后这个请求包在内网中被广播，当其他机器接收到这个包时，用目的IP和自己的IP进行比较，不是的话就丢弃。
   * B接到时，发现IP与自己的一样，就应答这个包的请求，把自己的MAC发送给A。
   * 如果B是其他子网的机器，那么路由器会判断出B是其他子网，然后路由器把自己的MAC返回给A，A以后再给B发包时，目的MAC封装的是路由器的




3. 源目IP地址, 源目MAC地址
   * 数据包传递过程中, 源IP地址和目的IP地址不发生变化, 如果在同一个广播域传输过程中源MAC地址和目的MAC地址是不变的, 在跨越广播域的时候源MAC地址和目的MAC地址会发生变化 
   * 源MAC地址变化时机:


https://blog.csdn.net/u011563903/article/details/90116368?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2-90116368-blog-8490397.pcrelevantt0_20220926_downloadratepraise_v1&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2-90116368-blog-8490397.pcrelevantt0_20220926_downloadratepraise_v1&utm_relevant_index=3


https://cloud.tencent.com/developer/article/1173761